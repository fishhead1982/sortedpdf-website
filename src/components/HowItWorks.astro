---
import Camera from '@lucide/astro/icons/camera';
import Sparkles from '@lucide/astro/icons/sparkles';
import CheckCircle from '@lucide/astro/icons/circle-check';

const steps = [
  {
    number: 1,
    icon: Camera,
    title: 'Snap',
    description: 'Take a photo of your PDF form or import from files. SortedPDF accepts any PDF â€” printed or digital.',
  },
  {
    number: 2,
    icon: Sparkles,
    title: 'Fill',
    description: 'AI detects every field and auto-fills from your saved profile. Review in seconds, adjust if needed.',
  },
  {
    number: 3,
    icon: CheckCircle,
    title: 'Done',
    description: 'Export your completed PDF, share directly via email, or save to your device. Fully formatted, ready to submit.',
  },
];
---

<section
  class="py-20 lg:py-28 bg-gray-50 dark:bg-surface-800"
  aria-labelledby="how-it-works-heading"
>
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">

    <!-- Section header -->
    <div class="text-center mb-14 reveal">
      <span class="inline-block px-3 py-1 mb-4 text-xs font-semibold uppercase tracking-widest text-brand-600 dark:text-brand-400 bg-brand-50 dark:bg-brand-950 rounded-full border border-brand-100 dark:border-brand-900">
        How It Works
      </span>
      <h2
        id="how-it-works-heading"
        class="font-heading text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white mb-4"
      >
        From form to done in under a minute
      </h2>
      <p class="mx-auto max-w-xl text-lg text-gray-600 dark:text-gray-400">
        Three simple steps replace what used to take twenty minutes.
      </p>
    </div>

    <!-- Steps -->
    <div class="relative">

      <!-- Connecting line (desktop) -->
      <div class="hidden lg:block absolute top-16 left-1/2 -translate-x-1/2 w-2/3 h-0.5 bg-gradient-to-r from-brand-200 via-brand-400 to-brand-200 dark:from-brand-900 dark:via-brand-600 dark:to-brand-900" aria-hidden="true"></div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12 relative">
        {steps.map((step, index) => (
          <div
            class="reveal flex flex-col items-center text-center lg:relative"
            style={`transition-delay: ${index * 120}ms`}
          >

            <!-- Mobile connecting line -->
            {index < steps.length - 1 && (
              <div class="lg:hidden w-0.5 h-10 bg-gradient-to-b from-brand-400 to-brand-200 dark:from-brand-600 dark:to-brand-900 mx-auto -mb-2 order-last mt-6" aria-hidden="true"></div>
            )}

            <!-- Number circle -->
            <div class="relative flex items-center justify-center mb-6 z-10">
              <div class="w-14 h-14 rounded-full bg-brand-500 text-white font-heading font-bold text-xl flex items-center justify-center shadow-lg shadow-brand-500/30 ring-4 ring-white dark:ring-surface-800">
                {step.number}
              </div>
            </div>

            <!-- Icon -->
            <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-white dark:bg-surface-900 border border-gray-100 dark:border-surface-700 text-brand-600 dark:text-brand-400 mb-5 shadow-sm">
              <step.icon size={28} aria-hidden="true" />
            </div>

            <!-- Content -->
            <h3 class="font-heading text-xl font-bold text-gray-900 dark:text-white mb-3">
              {step.title}
            </h3>
            <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed max-w-xs mx-auto">
              {step.description}
            </p>
          </div>
        ))}
      </div>
    </div>

    <!-- Social proof strip -->
    <div class="reveal mt-14 p-6 lg:p-8 rounded-2xl bg-brand-50 dark:bg-brand-950 border border-brand-100 dark:border-brand-900 text-center">
      <p class="font-heading text-2xl font-bold text-brand-700 dark:text-brand-300 mb-1">
        From 20 minutes to 30 seconds.
      </p>
      <p class="text-brand-600 dark:text-brand-400 text-sm">
        That's the average time saved per form with SortedPDF.
      </p>
    </div>
  </div>
</section>
